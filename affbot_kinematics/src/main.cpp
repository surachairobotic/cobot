//https://github.com/ros-planning/moveit_pr2/blob/groovy-devel/pr2_moveit_plugins/pr2_arm_kinematics/src/main.cpp

#include "affbot_kinematics.h"

int main(int argc, char** argv){
  ros::init(argc, argv, "affbot_kinematics");
  affbot_kinematics::AffbotKinematics affbot_kinematics;

  if( !affbot_kinematics.initialize("robot_description", "arm", "base_link", "tool0", 0) ){
    ROS_ERROR("affbot_kinematics.initialize() failed");
    return 0;
  }
  if(!affbot_kinematics.isActive()){
    ROS_ERROR("affbot_kinematics could not be activated");
    return 0;
  }

  geometry_msgs::Pose p;
  // 0,0,0,1,0
  p.position.x = 0.100004858242;
  p.position.y = -0.176438701256;
  p.position.z = 0.669120606554;
  p.orientation.x = 0.877580800851;
  p.orientation.y = 1.46248225981e-06;
  p.orientation.z = -4.98456798338e-06;
  p.orientation.w = -0.479428762123;

  // all 0
  /*p.position.x = 0.10000493677;
  p.position.y = -0.19999979427;
  p.position.z = 0.656248898029;
  p.orientation.x = 0.99999999998;
  p.orientation.y = 3.67317811843e-06;
  p.orientation.z = -3.67321859566e-06;
  p.orientation.w = -3.67319161115e-06;*/

  // 0,0,0.7,1,0
  p.position.x = 0.100003026914;
  p.position.y = -0.101685358075;
  p.position.z = 0.494591700823;
  p.orientation.x = -0.659980386275;
  p.orientation.y = 3.35381504721e-07;
  p.orientation.z = 5.18384910925e-06;
  p.orientation.w = 0.75128282937;

  // 0,0.2,0.7,1,0
  p.position.x = 0.10000297921;
  p.position.y = -0.139453523632;
  p.position.z = 0.45033017578;
  p.orientation.x = -0.581680101621;
  p.orientation.y = 8.51227362112e-07;
  p.orientation.z = 5.12446917438e-06;
  p.orientation.w = 0.813417641406;

  // 0.1,0.2,0.7,1,0
  p.position.x = 0.123908488622;
  p.position.y = -0.138256952932;
  p.position.z = 0.450330171386;
  p.orientation.x = -0.580953195504;
  p.orientation.y = -0.0290708887663;
  p.orientation.z = 0.0406591628393;
  p.orientation.w = 0.812400825047;

  double pp[][12] =
      /*{
      {0.0044430592286,0.230623533937,0.771212984794,0.66126024124,0.216065065968,0.22310958252,0.682841778753,0.631605931592,-0.981793410122,-0.0930286066086,-0.528089442411,0},
      {-0.0786152869479,0.144403311869,0.86441027462,0.312573901524,0.244397689728,0.56538417132,0.723123823534,1.32716515604,-0.816570998755,-0.459751972242,-1.04927202616,0},
      {0.161330036113,0.0758932578809,0.836811305387,-0.560517983097,0.822554690551,0.0793647844785,-0.0540795956148,-1.94528513481,-0.616677921034,-0.391280943207,0.815573229875,0},
      {0.130744764404,0.264011695903,0.891671957729,0.857630313584,-0.0796772044106,-0.0470019347498,0.505878054919,-0.18528726276,-0.626312196611,-0.800355252277,0.360805420285,0},
      {-0.226287123207,-0.0435101936804,0.807134284175,0.500099753606,0.766309292648,0.337758177866,0.220430754951,1.98516740356,-0.900039775561,-0.885003310544,0.954737416817,0},
      {0.0266809302338,0.058540487897,0.537709881956,0.425827227738,0.73001587437,0.461737566682,0.269344416685,2.08546115054,-1.2364241701,0.772687729714,-0.664236288027,0},
      {0.31896748874,-0.259469008059,0.769530864031,-0.131228722788,0.467671727003,0.841603365843,-0.236148158325,-2.5944796457,-1.09226799692,-0.78189664826,-0.253036078241,0},
      {0.104194934767,0.588533469383,0.756669687758,0.0977859041998,-0.000415840037219,-0.00426953870986,0.995198229026,-0.00858685295012,-1.11168747,-0.927454369043,-0.906571548141,0},
      {0.0775943693666,0.155059282346,0.783492042106,0.848263642533,0.166020643117,0.0965847790907,0.493515267508,0.386537746041,-0.77447117385,-0.0845687217697,-0.19481733842,0},
      {0.343331714531,0.195477789525,0.806766737369,0.686333543944,-0.467969961524,-0.313636507381,0.459981002658,-1.19687814602,-0.941765859343,-0.508252198608,0.269115636741,0}
      };*//*
  {{-0.219505583524,0.141508544773,0.717641178099,-0.553857910745,0.630468381665,0.408568506223,-0.358918946489,-1.7,0,-0.15,-1,0},
  {-0.251849439541,0.14571092089,0.647348497663,-0.571099006912,0.65009727244,-0.376552972266,0.330798004451,-1.7,0.2,-0.15,1,0},
  {-0.0838560841541,0.123884816183,0.756853947587,-0.625434467485,0.711948136073,-0.239892592838,0.210744210658,-1.7,-0.2,-0.15,1,0},
  {-0.0957384135832,0.125428874139,0.674981503703,-0.586918291323,0.668104624871,-0.343591057482,0.301841539146,-1.7,-0.2,0.15,1,0},
  {-0.142409687479,0.131492396966,0.677336099972,-0.57110420336,0.65010037489,0.376547616012,-0.330789032994,-1.7,-0.2,0.15,-1,0},
  {-0.0779190860154,0.518231523072,0.755941430927,0.631371842833,0.128720395351,0.152758003331,0.749310114917,0.402218048235,-1.04971594271,-0.98853843553,0.297025305856,0}};
  */
  /*{
      {0.403463292716,0.622705511875,0.272743585849,0.259606480473,0.96422465671,0.0517766601498,0.0139450404638,2.61558077856,1.08686195453,-0.485343381047,-0.708827628154,0},
      {-0.123539552936,0.395571044747,0.555075235355,-0.285924139774,0.852071384342,-0.415652317727,0.139480798135,-2.49408460095,0.275265533117,0.0535503402178,0.578874577446,0},
      {-0.224715277046,-0.204052870303,0.40167730983,0.915428932998,-0.396921817641,0.0265137985711,-0.0611551943583,-0.818256646137,0.573603339208,0.115702670255,-0.555904850961,0},
      {0.076826756347,-0.157099642293,0.226870827073,-0.468864738705,0.0210901598163,-0.0396717424774,0.88212652993,-0.089896205525,0.980657649804,0.760948407634,0.422895498472,0},
      {0.60572031389,0.101397010142,0.680891803123,0.66454234625,0.66637750344,0.239411579771,0.238760525257,1.5735427471,0.512338667892,-0.746479916457,-0.45570481097,0},
      {-0.136309483126,-0.0891069650402,0.19344615769,0.750592362403,-0.360683321451,0.23979091615,-0.499017999335,-0.895908189989,0.988494056669,0.600965750205,-0.416007606928,0},
      {0.416996198273,0.417641130529,0.195998667057,-0.204202271313,-0.493687635836,0.781143844111,0.323091698162,2.35720532016,1.11315878431,0.0634795178429,0.837693584084,0},
      {-0.571101304472,0.233795133047,0.37569663909,-0.621105907039,0.757156695859,0.156439617427,-0.128327067513,-1.76759054589,1.20959510991,-1.12883638617,-0.488262537006,0},
      {-0.00414949820851,0.573836747235,0.183462050796,-0.0997679503063,0.918646037982,-0.380042091206,0.0412773776228,-2.92523874284,1.10371807094,-0.0479806357601,-0.271233330835,0},
      {-0.141941954531,0.174268058028,0.513865419428,-0.592579542601,0.801775230797,-0.0623224012298,0.046063904275,-1.86864284973,-0.0162398425957,0.511832691575,-0.34045305317,0},
      {-0.0935369692911,-0.13905164977,0.382557061741,0.941190026261,-0.333236009517,0.0186255773574,-0.0526135371875,-0.680578110432,0.362251439342,0.610355837769,-0.860931308461,0},
      {-0.070197647185,-0.23810096354,0.805573125685,0.850554023223,-0.202008097239,-0.112199229085,0.472400164291,-0.466373486577,0.235485731893,-0.748194067504,-0.501264433251,0},
      {0.313862051548,0.094680958965,0.449913603224,0.609631257388,0.594648311828,-0.366001752043,-0.375214382396,1.54591420975,0.0879928374332,0.736067033354,0.279384793876,0},
      {0.619238946747,-0.18623788911,0.467481546249,0.842027914573,0.497312657791,-0.10627511981,-0.179929737372,1.06697235948,0.878734028301,-0.723234000647,0.265537084159,0},
      {0.116970667174,-0.203598399934,0.154516213081,-0.608867933935,-0.0170020874769,0.0221438721824,0.792780182,0.0558361715349,1.15658191392,0.531306710609,0.143832785403,0},
      {-0.100721364573,0.614039498217,0.404652332365,-0.178542722979,0.948111800392,-0.258526692183,0.0486873644594,-2.76932998918,0.825952097459,-0.390260907671,0.09670289295,0},
      {-0.428205950579,0.010658322383,0.151503342229,0.760044700878,-0.642283935847,-0.0639093476851,0.0756240285832,-1.40324685672,1.18883909694,-0.176711910424,-1.21048680599,0},
      {-0.16183631549,0.409645244403,0.445931151063,-0.340769284825,0.930749316968,-0.124513299847,0.045589929208,-2.43966733981,0.434905512738,0.184084312789,-0.353026033997,0},
      {0.39998145032,0.183215502188,0.479724678124,-0.41614108362,-0.547283825105,0.57804068551,0.439517894057,1.84138025019,0.273578600244,0.41735104159,0.934495896101,0},
      {0.673527144306,0.203499130818,0.396800432043,0.641091437846,0.76713709663,0.0171963731206,0.0143780404239,1.74932604291,0.869308884204,-0.466446222291,-0.447708581327,0},
      {-0.156775706488,0.63158560113,0.50476408311,-0.223073805894,0.97468864882,0.0144629793357,-0.00330714578768,-2.69161650157,0.81348508157,-0.725769140308,-0.117403901747,0},
      {-0.176568758371,0.480988143607,0.356903005354,-0.242044267937,0.745454730049,-0.590698564889,0.191799434945,-2.51368666879,0.77634873359,-0.0179250383028,0.581743557992,0},
      {0.517737566673,0.267949735294,0.45538828827,0.482343576829,0.713783566442,-0.420742714996,-0.284311909612,1.95305385357,0.570585646428,-0.0395332724685,0.53418625085,0},
      {0.443769003078,0.132148457606,0.885358743187,0.523674637335,0.574926440408,0.464764160496,0.423342340726,1.66401623992,0.304339005815,-1.15421760224,-0.509813272878,0},
      {-0.342725886855,0.279155545258,0.758464146231,-0.546412479031,0.810572153315,0.174734860571,-0.11778758649,-1.95532879114,0.561674764807,-1.12888731187,0.142561403316,0},
      {-0.336693132888,0.305559824342,0.58021004182,-0.504778237255,0.795518125062,-0.283017730137,0.179585100495,-2.01075590449,0.528305103699,-0.435529085786,0.590817284556,0},
      {0.0143711319088,0.364618040569,0.493654672428,0.107794841897,-0.683266212908,0.713345100195,-0.112544757257,-2.82864478674,0.176851457197,0.490018260337,0.946980516854,0},
      {0.231922953632,0.309006593944,0.669233593181,0.225604748114,0.780068731572,-0.560631353294,-0.162134997322,2.57853235785,-0.0656960988876,0.0831099778752,1.22889518794,0},
      {0.304290445662,-0.237986685621,0.419559657161,-0.662617403077,-0.184690910802,0.194887674168,0.699175399355,0.543662472738,0.544209631713,0.223776286521,0.856483199208,0},
      {-0.0504992604482,0.281724617636,0.302451720858,-0.290470886079,0.806142578702,-0.484995444755,0.174757619893,-2.44991581808,0.603187322526,0.854758954576,-0.37473148284,0},
      {0.261486246921,0.541091144343,0.746919517803,0.174181749135,0.982392808055,-0.0665285837961,-0.0117913734289,2.79062607928,0.56990121511,-1.10755429205,0.672872517579,0},
      {-0.42724817378,-0.18926200178,0.48881050947,0.859471432357,-0.508794057831,0.0251483993065,-0.0424855468423,-1.06901745207,0.868242459752,-0.78132876112,0.0118585581622,0},
      {0.202185998221,-0.479270508702,0.609973743574,0.811664299781,0.071042735158,0.0505490738877,0.577580111648,0.174596461715,0.719851271829,-0.833894080473,-1.12290125614,0},
      {0.601785566285,-0.268251406233,0.319556900786,0.817858956129,0.414254578399,-0.180464035073,-0.356276022487,0.937682847519,1.14455057791,-0.765522688834,0.442631881616,0},
      {-0.177976513466,0.205210745532,0.411616267861,-0.440566169672,0.637818905108,-0.519787143943,0.359040136223,-1.93263038832,0.369788875186,0.557183523837,0.440592729596,0},
      {0.332732201493,-0.0664695752135,0.15174153726,-0.186223674132,-0.0957511326667,0.447153063522,0.869601403845,0.949883692356,1.23716432984,0.604725417391,0.877775415394,0},
      {0.404673771131,-0.104253675046,0.215346131696,-0.667298711133,-0.356017368631,0.30794399056,0.577178102522,0.98020730821,0.964781432088,0.38507522884,0.0763556950747,0},
      {-0.452289560766,0.0114724279557,0.575348744305,0.649691230813,-0.553844257864,-0.337819045981,0.396277850515,-1.41186569466,0.628248861398,-0.562513128668,-1.16115353459,0},
      {-0.0972833881883,0.634563535742,0.34835925166,-0.171891818634,0.962236042256,-0.2077905844,0.0371224286067,-2.78805215758,0.931477094936,-0.411567754314,-0.0945632203771,0},
      {0.304782840282,0.150031195434,0.464651548243,-0.340884862143,-0.434182166029,0.655856539708,0.514913154605,1.81039910536,0.105152816238,0.759819251897,1.10705948971,0},
      {0.506922501567,0.0574762998951,0.612179985593,0.731694627086,0.659211793558,0.116051892805,0.128820581058,1.46665735349,0.256197745376,-0.146996471731,-0.457745792027,0},
      {0.116655302873,-0.228081972472,0.851995806528,0.961201953413,0.0243771084916,0.00696221317564,0.274678155164,0.0507017675241,0.232498593567,-0.972475788175,0.183276407571,0},
      {0.114580603732,0.495895212525,0.763124810378,0.0182880138198,0.993188192256,-0.115057771367,-0.00211484318762,3.10476344984,0.334704937138,-0.77674116224,0.672686977739,0},
      {0.172529207117,-0.479738245326,0.506535475494,0.979619115572,0.0610383873847,-0.0119045362851,-0.190994726858,0.124449852908,0.831341648177,-0.760221002534,0.313978047456,0},
      {0.193682650642,0.430795335422,0.465441978343,0.134325315306,0.967255663454,0.213296804857,0.0296253982542,2.86560336731,0.236553599521,0.416407128614,-1.08706417054,0},
      {0.695523367138,0.15695198679,0.396640165412,0.550856864985,0.606044556682,-0.424627539071,-0.385950984812,1.6661304603,1.00966383203,-0.701813025616,0.914457326554,0},
      {0.42243238148,-0.41593080775,0.330593219279,0.951136676272,0.272763860885,-0.0398940380659,-0.1390948057,0.558557288918,1.04206349615,-0.599032781792,-0.152613417422,0},
      {0.345499367272,0.30831251645,0.187838376641,-0.142053360743,-0.306826791094,0.854023566764,0.395375657293,2.27442953884,1.09974255597,0.52656927937,0.825440738861,0},
      {0.380392312253,0.241581505622,0.498094087626,0.508383189623,0.826216582547,0.206717550685,0.12720277305,2.03837414248,0.116190393494,0.441449290899,-1.04798848899,0},
      {0.180556012081,-0.105106723,0.627112201431,0.857225721035,0.162295637464,-0.0909131878565,-0.480165577203,0.374221393015,-0.133457961946,0.263671884011,0.890968419696,0},
      {-0.128765079714,0.0736964289169,0.61804606911,0.746321745927,-0.665429894872,-0.00957407834816,0.0107351567794,-1.456331045,-0.172847764747,0.280566852953,-0.136499174589,0},
      {-0.0356608539292,0.295257565367,0.176869240132,0.00226092123,-0.00722539836643,0.95423672656,-0.298956437526,-2.53438429974,1.24010635079,0.816745201462,1.06958517163,0},
      {0.538022078701,0.393472426784,0.26179356313,0.344964701372,0.646351194029,-0.600447093426,-0.320457137198,2.16109244221,1.05638776386,-0.246797551876,0.687585577945,0},
      {-0.0648042237698,-0.062960388439,0.458891547575,0.922720185366,-0.385249307816,-0.00503200339582,0.0120461316351,-0.791034504241,0.0126886647709,0.705182066287,-0.74398970404,0},
      {-0.359016459067,0.0318691245728,0.536763550638,0.698838851382,-0.602769875649,0.251514874472,-0.291604191891,-1.42345354947,0.506748584591,-0.245386018569,0.529233215269,0},
      {-0.450443974883,-0.204837083622,0.479617582556,0.860687511753,-0.507209148974,-0.0224552803233,0.0381004815524,-1.06504727852,0.956330312056,-0.931832606382,-0.112986611224,0},
      {0.506070392113,0.0995788905741,0.180554507411,-0.435578943432,-0.435122554328,0.55691224823,0.557483716826,1.56975475923,1.1046744088,0.210295517372,0.500116955707,0},
      {-0.218597698498,0.169578135535,0.266903717648,-0.479028866484,0.594935427767,-0.502724317237,0.404785675043,-1.7858163413,0.796809703188,0.546483998372,0.0598734021426,0},
      {0.306419817573,-0.0536736406712,0.391101677183,0.753383547693,0.378358648409,-0.241379365384,-0.480618315513,0.930831332595,0.335040044097,0.707489899679,0.0931763175347,0},
      {-0.181745195453,0.290965363795,0.466038327663,-0.45028167969,0.849168741949,-0.243811220214,0.129286292893,-2.1664729951,0.28824945306,0.346823345528,-0.0758905877193,0},
      {0.393951571368,0.340466231369,0.107949532043,0.333988108006,0.70471936505,-0.565650167155,-0.268071722925,2.25644252036,1.24395082516,0.232394224733,-0.123641434122,0},
      {0.295574158557,-0.52634073755,0.350885525701,0.984307127358,0.150099942771,-0.0139919050972,-0.0917262928697,0.302647818779,1.16784750121,-0.957300366828,-0.0247126930729,0},
      {-0.463641389473,-0.0207625329719,0.329994027172,0.777597792575,-0.628641928594,0.00772396859414,-0.00955713898741,-1.35974077229,0.943874416322,-0.377693935871,-0.541613815069,0},
      {0.691387704982,-0.0346737474492,0.398172311674,0.751403439497,0.599527915778,0.17188684667,0.215439228684,1.34688033821,0.899038770522,-0.519047381947,-0.938443534154,0},
      {-0.000377963032666,0.4201551607,0.326211034063,-0.138880833319,0.907191765445,-0.3925598217,0.0600999270563,-2.83777863445,0.596543867118,0.521552620406,-0.301327739316,0},
      {-0.152321671813,0.307584324328,0.482379080446,0.299297413338,-0.633804832694,0.644945418641,-0.304561815396,-2.25923467805,0.299913933815,0.362474515419,0.925820391001,0},
      {0.403721610416,0.032093414539,0.748313343025,0.694419225181,0.556298647537,0.285353452252,0.35621224254,1.35080863302,-0.00137174192869,-0.269944883766,-0.676615122836,0},
      {0.335574570611,0.546866580721,0.194886262026,0.186117469275,0.75214527819,-0.613662108503,-0.151843948562,2.65644044926,1.14629593617,-0.170256775874,0.392645518168,0},
      {0.585839045473,0.0518178470752,0.230523454316,0.741175422101,0.671307497627,-0.00154037441297,-0.00169249832437,1.47194034137,0.963782547892,0.0452279064948,-1.00444408939,0},
      {0.065285374565,0.592688550407,0.417652669664,-0.0337077776939,0.958038489344,-0.284474576263,0.0100126978392,-3.07125859438,0.680675401708,-0.141652717882,0.0382467666471,0},
      {-0.178989535357,0.463554843705,0.317075451091,0.198897220513,-0.585898771848,0.743899667345,-0.252538729193,-2.48706018798,0.853035477233,0.0567500202448,0.897521125266,0},
      {-0.00963742979119,0.288031168581,0.455069413454,-0.260209945114,0.962862990555,0.0695183396467,-0.0187842044091,-2.61371804406,-0.0218344881128,0.757720990625,-0.88004831952,0},
      {-0.373686698461,-0.0183892316649,0.657335419235,0.683902534019,-0.534010842617,-0.305936723421,0.391806668131,-1.32589236309,0.425123506476,-0.501379198769,-0.96426426644,0},
      {0.412918522056,0.220654414514,0.748855893695,0.426479351017,0.621520902797,0.541835199001,0.371808751467,1.93878595343,0.0390396823178,-0.270195974857,-1.20288061453,0},
      {-0.0360991194075,0.422703700792,0.19349827861,0.0435752984316,-0.21546890426,0.956177887012,-0.193386124251,-2.74248688409,1.09315242329,0.454279927719,1.15086350141,0},
      {-0.041180926516,0.386636432382,0.331267037245,0.142905145216,-0.613569442062,0.756357146782,-0.176166187873,-2.68393616507,0.639234715778,0.562273514128,0.576985472473,0},
      {0.220472830762,-0.243207127563,0.745974535176,0.900325348131,0.153420730693,-0.0684211538185,-0.401490837524,0.337565687126,0.250965019928,-0.566043402588,1.15401683242,0},
      {0.714096429478,0.0216389483367,0.501417365459,0.712737630698,0.627564080429,-0.207057185373,-0.235150412987,1.44386719407,1.00039518436,-1.07942804265,0.716392968295,0},
      {-0.179042039362,-0.132652552001,0.299366479726,0.903149252688,-0.422875946965,0.0314382781524,-0.067149054455,-0.875817087847,0.657940349114,0.490939829112,-1.00046426356,0},
      {-0.000893460333266,-0.380946275364,0.503231354722,0.955521293754,-0.099146609062,-0.0286700825959,0.276273475849,-0.206792857824,0.511697209947,-0.150195421505,-0.924426311759,0},
      {0.0440406380729,-0.32896002192,0.189693682263,-0.742439858219,0.0482244024405,-0.0433047154029,0.666769949503,-0.129726844788,1.08016221658,0.123719991602,0.259615944626,0},
      {-0.0453981970415,0.344274270042,0.129264211336,0.149389297748,-0.543059899131,0.796701992042,-0.219168244848,-2.60469581068,1.2484313144,0.554644941362,0.141916167383,0},
      {0.0105436154603,0.29842719268,0.857760481708,-0.209132502382,0.972769579492,0.0976833734451,-0.0209976240475,-2.71807372898,-0.0263458606767,-0.70827860148,0.534446766803,0},
      {0.568919575817,0.254558229972,0.644459301658,0.538128333316,0.743973059805,0.320967117489,0.232168242138,1.88917237217,0.4499877351,-0.514178737428,-0.750425834213,0},
      {-0.306711324143,-0.0902865162438,0.361005418368,0.807722867233,-0.513851137773,0.155140450759,-0.243869265174,-1.13319256546,0.679456458993,0.101026718871,-0.194056958633,0},
      {-0.229462162532,-0.193297422743,0.719405318646,0.880052131418,-0.394808521245,0.108009789869,-0.240766199522,-0.843416654707,0.444008217936,-0.776932828097,0.86700835766,0},
      {-0.148820642718,0.454385929414,0.674089982275,-0.300425529725,0.950713477913,-0.0731687174807,0.0231240737454,-2.52945887063,0.358605006425,-0.502296673614,0.29730027145,0},
      {-0.401937306719,-0.236812507723,0.569308089857,0.877166647499,-0.467749143276,0.0510879061464,-0.0958093801581,-0.979791817963,0.923469656435,-1.16301236733,0.457120824779,0},
      {0.530593353705,0.453451444859,0.37339375601,0.420819405199,0.889864085223,0.159301172439,0.075339727221,2.2581115006,0.819040450725,-0.265306846008,-0.908033834999,0},
      {0.328919684052,-0.405964880384,0.36007881785,0.931716376202,0.200968316957,0.0637804227289,0.295716735361,0.424874153671,0.825174562795,-0.21189184868,-1.22795424598,0},
      {0.302259353573,-0.0667272659729,0.502666853338,-0.735163901117,-0.346721993793,0.248483985287,0.526852547276,0.881382738881,0.104508256472,0.499570562204,0.639539067368,0},
      {0.462046589452,0.235354782428,0.149965997492,-0.162452609617,-0.23416094982,0.787568412902,0.546364158971,1.92856367962,1.21054525828,0.268463524111,1.08456895585,0},
      {-0.070058905344,0.418715326036,0.792802119298,-0.187350778163,0.749107401783,0.616418642727,-0.15416174433,-2.65146153521,0.145573517731,-0.55046959986,-0.972180450721,0},
      {-0.289658002503,-0.189847311222,0.422327552988,0.862490141472,-0.433375020662,-0.117336453531,0.233514462084,-0.93125110769,0.593851107888,0.00562187564679,-1.12829525738,0},
      {0.0973326811099,-0.151343462833,0.891962454806,0.799022927131,-0.00424445641764,-0.0031985915594,0.60127707051,-0.0106368620549,0.0401115081717,-0.842898379957,-0.487438578318,0},
      {-0.0496318330826,-0.139090649196,0.772294487933,0.766945934329,-0.220209176767,-0.166345445245,0.579336728622,-0.559217838439,-0.0721975365281,-0.25614657811,-0.965538034991,0},
      {0.529869666995,-0.383618452346,0.417598693079,0.9318903707,0.354294348807,-0.0276594079958,-0.0727379443504,0.726617496998,1.07944504965,-0.986927030992,0.0632699260956,0},
      {0.434837897418,0.068179777713,0.405889222848,0.555902798228,0.505572014845,-0.443950686201,-0.48813605168,1.47603781605,0.456120299698,0.437729856168,0.547310832915,0},
      {-0.124211512668,0.384523679904,0.872360842397,-0.232627042791,0.671052322327,0.665138651378,-0.230573229378,-2.47421245906,0.293244480316,-1.04756133496,-0.807640140539,0},
      {0.660810801974,0.353183072988,0.24780217054,0.539073618232,0.834832664693,-0.0937539788547,-0.0605330284855,1.99485616682,1.17710211259,-0.604357711597,-0.349095550328,0}
      };*/
  {{-0.0504992604482,0.281724617636,0.302451720858,-0.290470886079,0.806142578702,-0.484995444755,0.174757619893,-2.44991581808,0.603187322526,0.854758954576,-0.37473148284,0}};





  for(int i=0;i<sizeof(pp) / (sizeof(double)*12);i++){
    p.position.x = pp[i][0];
    p.position.y = pp[i][1];
    p.position.z = pp[i][2];
    p.orientation.x = pp[i][3];
    p.orientation.y = pp[i][4];
    p.orientation.z = pp[i][5];
    p.orientation.w = pp[i][6];

    double q[5] = { pp[i][7],pp[i][8],pp[i][9],pp[i][10],pp[i][11] };
    std::vector<double> seed // an initial guess solution for the inverse kinematics
        , ans;
    moveit_msgs::MoveItErrorCodes err;
    affbot_kinematics.getPositionIK( p, seed, ans, err);
    for(int i=0;i<5;i++){
      if( fabs(ans[i]-q[i]) > 0.001 ){
        ROS_WARN("err ik: %lf, %lf, %lf, %lf, %lf", ans[0], ans[1], ans[2], ans[3], ans[4]);
        ROS_WARN("err or: %lf, %lf, %lf, %lf, %lf", q[0], q[1], q[2], q[3], q[4]);
        return 0;
      }
    }
  }
  return 0;



  std::vector<double> seed // an initial guess solution for the inverse kinematics
    , solution;
  moveit_msgs::MoveItErrorCodes err;
  affbot_kinematics.getPositionIK( p, seed, solution, err);
  return(0);
}
